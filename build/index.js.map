{"version":3,"sources":["../src/index.js"],"names":["actionTypes","ReactWebChatComponent","theme","client","init","store","url","ReactWebChat","element","eventHandlers","message","connection","nodeName","bindEventsToActions","render","console","error","Object","values","map","window","addEventListener","type","payload","detail","dispatch"],"mappings":";;;;;;;;;kQAAA;;;AACA;;;;AACA;;;;AACA;;;;AAEA;;AAEA;;;;AACA;;;;AAEA;;IAAYA,W;;AACZ;;;;AACA;;;;;;;;;;AAEA;;;;;;AAMO,IAAMC,wDAAwB,SAAxBA,qBAAwB,OAAuC;AAAA,QAApCC,KAAoC,QAApCA,KAAoC;AAAA,2BAA7BC,MAA6B;AAAA,QAA7BA,MAA6B;;AACxE,sBAAeC,IAAf,CAAoB;AAChBC,8BADgB;AAEhBF,sBAFgB;AAGhBG,aAAK;AAHW,KAApB;AAKA,WACI;AAAA;AAAA,UAAU,sBAAV;AACI,iEAAe,uCAA6BJ,KAA7B,CAAf;AADJ,KADJ;AAKH,CAXM;;AAaP;;;;;;;;IAOMK,Y;AACF,4BAAmF;AAAA,wFAA1C,EAAEL,wBAAF,EAAuBC,cAAvB,EAA+BK,gBAA/B,EAA0C;AAAA,YAArEN,KAAqE,SAArEA,KAAqE;AAAA,YAA9DC,MAA8D,SAA9DA,MAA8D;AAAA,YAAtDK,OAAsD,SAAtDA,OAAsD;;AAAA;;AAC/E,aAAKC,aAAL,GAAqB,EAAEC,SAAS,EAAX,EAAeC,YAAY,EAA3B,EAArB;AACA,YAAIH,WAAWA,QAAQI,QAAvB,EAAiC;AAC7B,iBAAKJ,OAAL,GAAeA,OAAf;AACA,iBAAKL,MAAL,GAAcA,MAAd;AACA,iBAAKU,mBAAL;AACA,+BAASC,MAAT,CAAgB,8BAAC,qBAAD,IAAuB,OAAOZ,KAA9B,EAAqC,QAAQC,MAA7C,GAAhB,EAAyEK,OAAzE;AACH,SALD,MAKO;AACHO,oBAAQC,KAAR,CACI,6FADJ,EAEIR,OAFJ;AAIH;AACJ;;;;8CAEqB;AAClBS,mBAAOC,MAAP,CAAclB,WAAd,EAA2BmB,GAA3B,CAA+B;AAAA,uBAC3BC,OAAOC,gBAAP,mBAAwCC,IAAxC,EAAgD;AAAA,wBAAaC,OAAb,SAAGC,MAAH,CAAaD,OAAb;AAAA,2BAC5C,gBAAME,QAAN,CAAe;AACXH,kCADW;AAEXC;AAFW,qBAAf,CAD4C;AAAA,iBAAhD,CAD2B;AAAA,aAA/B;AAQH;;;;;;kBAGUhB,Y","file":"index.js","sourcesContent":["// @ts-check\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport store from './store';\n\nimport { Provider } from 'react-redux';\n\nimport ChatContainer from './components/ChatContainer';\nimport defaultTheme from './themes/default';\n\nimport * as actionTypes from './actionTypes';\nimport feersumClient from 'rwc-feersum-client';\nimport networkManager from './utils/network';\n\n/**\n * The main react component for React Web Chat\n * @param {Object} params - An object containing configuration parameters\n * @param {Object} params.theme - Custom theme\n * @param {Object} params.client - Which client to use for network communication\n */\nexport const ReactWebChatComponent = ({ theme, client = feersumClient }) => {\n    networkManager.init({\n        store,\n        client,\n        url: 'http://localhost:8080/echo'\n    });\n    return (\n        <Provider store={store}>\n            <ChatContainer theme={{ ...defaultTheme, ...theme }} />\n        </Provider>\n    );\n};\n\n/**\n * The wrapping constructor module which exposes an interace\n * @param {Object} params - An object containing configuration parameters\n * @param {Object} params.theme - Custom theme\n * @param {Object} params.client - Which client to use for network communication\n * @param {Object} params.elemt - A target element to render to\n */\nclass ReactWebChat {\n    constructor({ theme, client, element } = { theme: defaultTheme, client, element }) {\n        this.eventHandlers = { message: [], connection: [] };\n        if (element && element.nodeName) {\n            this.element = element;\n            this.client = client;\n            this.bindEventsToActions();\n            ReactDOM.render(<ReactWebChatComponent theme={theme} client={client} />, element);\n        } else {\n            console.error(\n                'React Web Chat: expected element passed to constructor to be a DOM node. Recieved instead: ',\n                element\n            );\n        }\n    }\n\n    bindEventsToActions() {\n        Object.values(actionTypes).map(type =>\n            window.addEventListener(`rwc-dispatch-${type}`, ({ detail: { payload } }) =>\n                store.dispatch({\n                    type,\n                    payload\n                })\n            )\n        );\n    }\n}\n\nexport default ReactWebChat;\n"]}