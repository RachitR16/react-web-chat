{"version":3,"sources":["../src/index.js"],"names":["actionTypes","ReactWebChatComponent","theme","client","url","init","store","ReactWebChat","element","eventHandlers","message","connection","nodeName","bindEventsToActions","render","console","error","Object","values","map","window","addEventListener","type","payload","detail","dispatch"],"mappings":";;;;;;;;;kQAAA;;;AACA;;;;AACA;;;;AACA;;;;AAEA;;AAEA;;;;AACA;;;;AAEA;;IAAYA,W;;AACZ;;;;AACA;;;;;;;;;;AAEA;;;;;;AAMO,IAAMC,wDAAwB,SAAxBA,qBAAwB,OAA4C;AAAA,QAAzCC,KAAyC,QAAzCA,KAAyC;AAAA,2BAAlCC,MAAkC;AAAA,QAAlCA,MAAkC;AAAA,QAAVC,GAAU,QAAVA,GAAU;;AAC7E,sBAAeC,IAAf,CAAoB;AAChBC,8BADgB;AAEhBH,sBAFgB;AAGhBC;AAHgB,KAApB;AAKA,WACI;AAAA;AAAA,UAAU,sBAAV;AACI,iEAAe,uCAA6BF,KAA7B,CAAf;AADJ,KADJ;AAKH,CAXM;;AAaP;;;;;;;;IAOMK,Y;AACF,4BAOE;AAAA,wFANoC;AAC9BL,oCAD8B;AAE9BC,0BAF8B;AAG9BK,4BAH8B;AAI9BJ,iBAAK;AAJyB,SAMpC;AAAA,YANIF,KAMJ,SANIA,KAMJ;AAAA,YANWC,MAMX,SANWA,MAMX;AAAA,YANmBK,OAMnB,SANmBA,OAMnB;AAAA,YAN4BJ,GAM5B,SAN4BA,GAM5B;;AAAA;;AACE,aAAKK,aAAL,GAAqB,EAAEC,SAAS,EAAX,EAAeC,YAAY,EAA3B,EAArB;AACA,YAAIH,WAAWA,QAAQI,QAAvB,EAAiC;AAC7B,iBAAKJ,OAAL,GAAeA,OAAf;AACA,iBAAKL,MAAL,GAAcA,MAAd;AACA,iBAAKU,mBAAL;AACA,+BAASC,MAAT,CACI,8BAAC,qBAAD,IAAuB,OAAOZ,KAA9B,EAAqC,QAAQC,MAA7C,EAAqD,KAAKC,GAA1D,GADJ,EAEII,OAFJ;AAIH,SARD,MAQO;AACHO,oBAAQC,KAAR,CACI,6FADJ,EAEIR,OAFJ;AAIH;AACJ;;;;8CAEqB;AAClBS,mBAAOC,MAAP,CAAclB,WAAd,EAA2BmB,GAA3B,CAA+B;AAAA,uBAC3BC,OAAOC,gBAAP,mBAAwCC,IAAxC,EAAgD;AAAA,wBAAaC,OAAb,SAAGC,MAAH,CAAaD,OAAb;AAAA,2BAC5C,gBAAME,QAAN,CAAe;AACXH,kCADW;AAEXC;AAFW,qBAAf,CAD4C;AAAA,iBAAhD,CAD2B;AAAA,aAA/B;AAQH;;;;;;kBAGUhB,Y","file":"index.js","sourcesContent":["// @ts-check\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport store from './store';\n\nimport { Provider } from 'react-redux';\n\nimport ChatContainer from './components/ChatContainer';\nimport defaultTheme from './themes/default';\n\nimport * as actionTypes from './actionTypes';\nimport feersumClient from 'rwc-feersum-client';\nimport networkManager from './utils/network';\n\n/**\n * The main react component for React Web Chat\n * @param {Object} params - An object containing configuration parameters\n * @param {Object} params.theme - Custom theme\n * @param {Object} params.client - Which client to use for network communication\n */\nexport const ReactWebChatComponent = ({ theme, client = feersumClient, url }) => {\n    networkManager.init({\n        store,\n        client,\n        url\n    });\n    return (\n        <Provider store={store}>\n            <ChatContainer theme={{ ...defaultTheme, ...theme }} />\n        </Provider>\n    );\n};\n\n/**\n * The wrapping constructor module which exposes an interace\n * @param {Object} params - An object containing configuration parameters\n * @param {Object} params.theme - Custom theme\n * @param {Object} params.client - Which client to use for network communication\n * @param {Object} params.elemt - A target element to render to\n */\nclass ReactWebChat {\n    constructor(\n        { theme, client, element, url } = {\n            theme: defaultTheme,\n            client,\n            element,\n            url: 'http://localhost:8080/'\n        }\n    ) {\n        this.eventHandlers = { message: [], connection: [] };\n        if (element && element.nodeName) {\n            this.element = element;\n            this.client = client;\n            this.bindEventsToActions();\n            ReactDOM.render(\n                <ReactWebChatComponent theme={theme} client={client} url={url} />,\n                element\n            );\n        } else {\n            console.error(\n                'React Web Chat: expected element passed to constructor to be a DOM node. Recieved instead: ',\n                element\n            );\n        }\n    }\n\n    bindEventsToActions() {\n        Object.values(actionTypes).map(type =>\n            window.addEventListener(`rwc-dispatch-${type}`, ({ detail: { payload } }) =>\n                store.dispatch({\n                    type,\n                    payload\n                })\n            )\n        );\n    }\n}\n\nexport default ReactWebChat;\n"]}