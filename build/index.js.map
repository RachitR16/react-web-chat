{"version":3,"sources":["../src/index.js"],"names":["init","then","dispatch","type","subscribe","getState","connection","established","listening","console","log","send","onmessage","message","JSON","parse","res","data","theme"],"mappings":";;;;;;kQAAA;;;AACA;;;;AACA;;;;AAEA;;AACA;;AAQA;;;;AACA;;;;AAEA;;;;;;AAEA,2BAAcA,IAAd,CAAmB,4BAAnB,EAAiDC,IAAjD,CAAsD,aAAK;AACvD,oBAAMC,QAAN,CAAe,EAAEC,yCAAF,EAAf;AACH,CAFD;;AAIA,gBAAMC,SAAN,CAAgB,YAAM;AAClB,QAAI,gBAAMC,QAAN,GAAiBC,UAAjB,CAA4BC,WAA5B,IAA2C,CAAC,gBAAMF,QAAN,GAAiBC,UAAjB,CAA4BE,SAA5E,EAAuF;AACnFC,gBAAQC,GAAR,CAAY,cAAZ;AACA,mCAAcC,IAAd,CAAmB,UAAnB;AACA,mCAAcC,SAAd,CAAwB,eAAO;AAC3B,4BAAMV,QAAN,CAAe,EAAEC,8BAAF,EAAqBU,SAASC,KAAKC,KAAL,CAAWC,IAAIC,IAAf,CAA9B,EAAf;AACH,SAFD;AAGA,wBAAMf,QAAN,CAAe,EAAEC,uCAAF,EAAf;AACH;AACJ,CATD;;kBAWe,gBAAe;AAAA,QAAZe,KAAY,QAAZA,KAAY;;AAC1BT,YAAQC,GAAR,CAAY,OAAZ,EAAqBQ,KAArB;AACA,WACI;AAAA;AAAA,UAAU,sBAAV;AACI,iEAAe,uCAA6BA,KAA7B,CAAf;AADJ,KADJ;AAKH,C","file":"index.js","sourcesContent":["// @ts-check\nimport React from 'react';\nimport store from './store';\n\nimport { Provider } from 'react-redux';\nimport {\n    ADD_MESSAGE,\n    CONNECTION_ESTABLISHED,\n    CONNECTION_ATTEMPTED,\n    CONNECTION_DROPPED,\n    CONNECTION_LISTENING\n} from './actionTypes';\n\nimport ChatContainer from './components/ChatContainer';\nimport defaultTheme from './themes/default';\n\nimport feersumClient from 'rwc-feersum-client';\n\nfeersumClient.init('http://localhost:8080/echo').then(_ => {\n    store.dispatch({ type: CONNECTION_ESTABLISHED });\n});\n\nstore.subscribe(() => {\n    if (store.getState().connection.established && !store.getState().connection.listening) {\n        console.log('CONNECTED :D');\n        feersumClient.send('HELLO!!!');\n        feersumClient.onmessage(res => {\n            store.dispatch({ type: ADD_MESSAGE, message: JSON.parse(res.data) });\n        });\n        store.dispatch({ type: CONNECTION_LISTENING });\n    }\n});\n\nexport default ({ theme }) => {\n    console.log('THEME', theme);\n    return (\n        <Provider store={store}>\n            <ChatContainer theme={{ ...defaultTheme, ...theme }} />\n        </Provider>\n    );\n};\n"]}